<!DOCTYPE haml>
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.dev.js"></script>
<link href="general.css" type="text/css" rel="stylesheet">
<link href="tree.css" type="text/css" rel="stylesheet">
<title>Tree View of {{deviceTopName}}</title>
<script src="doraLib.js" type="text/javascript"></script>
</head>
<body>
<h1>Tree View of {{deviceTopName}}</h1>
<ul id="theTreeTop" class="dir">
 {%- with caret="", name="/<root>", path="/", level=0 -%}
 {%  include "dir.html" %}
 {%- endwith           -%}
 {% block content %}<div id="content">{% endblock %}</div>
</ul>
<p><a href="/"       class="realLink">General Info</a></p>
{%- if appLinks -%}
{%- for l in appLinks -%}
  <p><a href="{{l}}['ref']" class="realLink">{%- autoescape true -%}{{l}}['txt']{%- endautoescape -%}</a></p>
{%- endfor -%}
{%- endif  -%}

<script>
//$("#content").load("guts.html", connectEvents);
$(connectEvents);
</script>

</body>
</html>
